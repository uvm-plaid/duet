-- Presna algorithm
let main = pÎ» Îµ  : â„âº,
              Î´  : â„âº
              .
              df : ğ•„ [Lâˆ , U | â˜… , ğ â„• âˆ· ğ â„ âˆ· [] ],
              Îµ : â„âº[Îµ],
              Î´ : â„âº[Î´],
              q : â„•[0],
              r : â„•[0],
              s : â„•[0],
              t : â„•[1]
              â‡’

  --          must be 1-sens in row
  --                         â†“
  parallel[ df, â„˜ {true, false} ] {row â‡’ (clip (row#[q,r])) â‰¡ 1} { b, p â‡’
  --                                              â†‘
  --     this is the only variable that gets a non-âˆ privacy cost when referenced
    x â† gauss[â„âº[1.0], Îµ, Î´] <p> { clip(p#[s,t]) };
    return âŸ¨b, xâŸ©
  }
in return main


-- Î“                                        , âŒ‰Î£á´³â‚€âŒˆâ¸¢1â¸£                     âŠ¢ eá´³â‚€ : ğ•„ [ â„“ , c | â˜… , s ]
-- Î“                                        , Î£á´³â‚                          âŠ¢ eá´³â‚ : â„˜ Ï„â‚
-- Î“ âŠ {xâ‚‚ : ğ•„ [ â„“ , c | 1 , s ]}           , Î£á´³â‚‚ âŠ {xâ‚‚ @á´³ 1}              âŠ¢ eá´³â‚‚ : Ï„â‚
-- Î“ âŠ {xâ‚ƒ : Ï„â‚ , xâ‚„ : ğ•„ [ â„“ , c | â˜… , s ]} , Î£á´¿â‚ƒ âŠ {xâ‚ƒ @á´¿ âˆ, xâ‚„ @á´¿ âŸ¨Îµ,Î´âŸ©} âŠ¢ eá´¿â‚ƒ : Ï„â‚‚
-- --------------------------------------------------------------------------------------
--   Î“
-- , âŒ‰Î£á´³â‚ + Î£á´³â‚‚âŒˆâ¸¢âˆá´¿â¸£ + âŒ‰Î£á´¿â‚ƒâŒˆâ¸¢âˆá´¿â¸£ + âŒ‰Î£á´³â‚€âŒˆâ¸¢âŸ¨Îµ,Î´âŸ©â¸£
-- âŠ¢ parallel[ eá´³â‚€ , eá´³â‚ ] { xâ‚‚ â‡’ eá´³â‚‚ } { xâ‚ƒ , xâ‚„ â‡’ eá´¿â‚ƒ }
-- : â„˜ Ï„â‚‚


-- Î£á´³â‚€          = { a @ 1     , b @ 0.5   , c @ âŠ¥ , d @ âŠ¥ } -- sensitivities
-- âŒ‰Î£á´³â‚€âŒˆâ¸¢âŸ¨Îµ,Î´âŸ©â¸£ = { a @ âŸ¨Îµ,Î´âŸ© , b @ âŸ¨Îµ,Î´âŸ© , c @ âŠ¥ , d @ âŠ¥ } -- privacies
